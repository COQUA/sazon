{
	"info": {
		"_postman_id": "sazon-backend-api",
		"name": "Sazon Backend API - COMPLETA",
		"description": "Colecci√≥n completa para probar todos los endpoints del backend Sazon, incluyendo PUT y DELETE de ventures",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "üè• Health Check",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": ["{{base_url}}"],
							"path": ["health"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üîê Autenticaci√≥n",
			"item": [
				{
					"name": "1. Registrar Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"admin_token\", jsonData.token);",
									"    pm.environment.set(\"admin_userId\", jsonData.user.userId);",
									"    console.log(\"Admin token guardado:\", jsonData.token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"admin@sazon.com\",\n  \"password\": \"admin123\",\n  \"name\": \"Admin Usuario\",\n  \"role\": \"admin\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": ["{{base_url}}"],
							"path": ["auth", "register"]
						}
					},
					"response": []
				},
				{
					"name": "2. Registrar Emprendedor",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"entrepreneur_token\", jsonData.token);",
									"    pm.environment.set(\"entrepreneur_userId\", jsonData.user.userId);",
									"    console.log(\"Entrepreneur token guardado:\", jsonData.token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"emprendedor@sazon.com\",\n  \"password\": \"empre123\",\n  \"name\": \"Juan Emprendedor\",\n  \"role\": \"entrepreneur\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": ["{{base_url}}"],
							"path": ["auth", "register"]
						}
					},
					"response": []
				},
				{
					"name": "3. Registrar Inversor",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"investor_token\", jsonData.token);",
									"    pm.environment.set(\"investor_userId\", jsonData.user.userId);",
									"    console.log(\"Investor token guardado:\", jsonData.token);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"inversor@sazon.com\",\n  \"password\": \"inv123\",\n  \"name\": \"Mar√≠a Inversora\",\n  \"role\": \"investor\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": ["{{base_url}}"],
							"path": ["auth", "register"]
						}
					},
					"response": []
				},
				{
					"name": "Login (cualquier usuario)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    console.log(\"Token:\", jsonData.token);",
									"    console.log(\"User ID:\", jsonData.user.userId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"emprendedor@sazon.com\",\n  \"password\": \"empre123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": ["{{base_url}}"],
							"path": ["auth", "login"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üìÅ Categor√≠as",
			"item": [
				{
					"name": "Listar Categor√≠as",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/categories",
							"host": ["{{base_url}}"],
							"path": ["categories"]
						}
					},
					"response": []
				},
				{
					"name": "Crear Categor√≠a - Tecnolog√≠a",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"category_id_1\", jsonData.categoryId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Tecnolog√≠a\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/categories",
							"host": ["{{base_url}}"],
							"path": ["categories"]
						}
					},
					"response": []
				},
				{
					"name": "Crear Categor√≠a - Alimentos",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"category_id_2\", jsonData.categoryId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Alimentos\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/categories",
							"host": ["{{base_url}}"],
							"path": ["categories"]
						}
					},
					"response": []
				},
				{
					"name": "Crear Categor√≠a - Moda",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"category_id_3\", jsonData.categoryId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Moda\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/categories",
							"host": ["{{base_url}}"],
							"path": ["categories"]
						}
					},
					"response": []
				},
				{
					"name": "Crear Categor√≠a - Salud",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Salud\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/categories",
							"host": ["{{base_url}}"],
							"path": ["categories"]
						}
					},
					"response": []
				},
				{
					"name": "Actualizar Categor√≠a",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Tecnolog√≠a e Innovaci√≥n\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/categories/{{category_id_1}}",
							"host": ["{{base_url}}"],
							"path": ["categories", "{{category_id_1}}"]
						}
					},
					"response": []
				},
				{
					"name": "Eliminar Categor√≠a",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/categories/999",
							"host": ["{{base_url}}"],
							"path": ["categories", "999"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üë§ Perfiles",
			"item": [
				{
					"name": "Crear Perfil Emprendedor",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{entrepreneur_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nameGiven\": \"Juan\",\n  \"surname\": \"P√©rez\",\n  \"dni\": \"12345678\",\n  \"dateOfBirth\": \"1990-05-15\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/profiles/entrepreneur/{{entrepreneur_userId}}",
							"host": ["{{base_url}}"],
							"path": ["profiles", "entrepreneur", "{{entrepreneur_userId}}"]
						}
					},
					"response": []
				},
				{
					"name": "Obtener Perfil Emprendedor",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{entrepreneur_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/profiles/entrepreneur/{{entrepreneur_userId}}",
							"host": ["{{base_url}}"],
							"path": ["profiles", "entrepreneur", "{{entrepreneur_userId}}"]
						}
					},
					"response": []
				},
				{
					"name": "Actualizar Perfil Emprendedor",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{entrepreneur_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"nameGiven\": \"Juan Carlos\",\n  \"surname\": \"P√©rez Garc√≠a\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/profiles/entrepreneur/{{entrepreneur_userId}}",
							"host": ["{{base_url}}"],
							"path": ["profiles", "entrepreneur", "{{entrepreneur_userId}}"]
						}
					},
					"response": []
				},
				{
					"name": "Crear Perfil Inversor",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{investor_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"enrollmentNumber\": \"INV-001\",\n  \"cuitOrCuil\": \"20-12345678-9\",\n  \"lastNameCompanyName\": \"Inversiones Tech SA\",\n  \"ticketMin\": 50000,\n  \"ticketMax\": 200000,\n  \"categoryPreferences\": [\"1\", \"2\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/profiles/investor/{{investor_userId}}",
							"host": ["{{base_url}}"],
							"path": ["profiles", "investor", "{{investor_userId}}"]
						}
					},
					"response": []
				},
				{
					"name": "Obtener Perfil Inversor",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{investor_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/profiles/investor/{{investor_userId}}",
							"host": ["{{base_url}}"],
							"path": ["profiles", "investor", "{{investor_userId}}"]
						}
					},
					"response": []
				},
				{
					"name": "Actualizar Preferencias Inversor",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{investor_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"categoryIds\": [\"1\", \"2\", \"3\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/profiles/investor/{{investor_userId}}/preferences",
							"host": ["{{base_url}}"],
							"path": ["profiles", "investor", "{{investor_userId}}", "preferences"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üöÄ Ventures (CRUD Completo)",
			"item": [
				{
					"name": "Listar Todos los Ventures",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/ventures",
							"host": ["{{base_url}}"],
							"path": ["ventures"]
						}
					},
					"response": []
				},
				{
					"name": "Crear Venture",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"venture_id\", jsonData.ventureId);",
									"    console.log(\"Venture ID guardado:\", jsonData.ventureId);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{entrepreneur_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Startup de IA Argentina\",\n  \"summary\": \"Revolucionamos el an√°lisis de datos con Inteligencia Artificial\",\n  \"location\": \"Buenos Aires, Argentina\",\n  \"ventureEmail\": \"contacto@startupai.com\",\n  \"venturePhone\": \"+54 11 1234-5678\",\n  \"website\": \"https://startupai.com\",\n  \"videoPitch\": \"https://youtube.com/watch?v=ejemplo\",\n  \"problem\": \"Las empresas no pueden analizar grandes vol√∫menes de datos en tiempo real\",\n  \"solution\": \"Plataforma de IA que procesa y analiza datos en milisegundos\",\n  \"differentiator\": \"Somos 10x m√°s r√°pidos y 50% m√°s econ√≥micos que la competencia\",\n  \"targetMarket\": \"PyMEs y grandes empresas en LATAM\",\n  \"amountRequested\": 100000,\n  \"equityOffered\": 15.5,\n  \"valuation\": 1000000,\n  \"useOfFunds\": \"Desarrollo de producto (40%), Marketing (30%), Equipo (30%)\",\n  \"categoryIds\": [\"1\", \"2\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/ventures",
							"host": ["{{base_url}}"],
							"path": ["ventures"]
						}
					},
					"response": []
				},
				{
					"name": "Obtener Venture por ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{entrepreneur_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/ventures/{{venture_id}}",
							"host": ["{{base_url}}"],
							"path": ["ventures", "{{venture_id}}"]
						}
					},
					"response": []
				},
				{
					"name": "‚úÖ Actualizar Venture (PUT) - Completo",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{entrepreneur_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Startup de IA Argentina ACTUALIZADA\",\n  \"summary\": \"Nueva descripci√≥n mejorada - Revolucionamos LATAM con IA\",\n  \"location\": \"Buenos Aires y Santiago de Chile\",\n  \"amountRequested\": 150000,\n  \"equityOffered\": 12.5,\n  \"valuation\": 1200000,\n  \"useOfFunds\": \"Producto (50%), Marketing (25%), Equipo (25%)\",\n  \"categoryIds\": [\"1\", \"3\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/ventures/{{venture_id}}",
							"host": ["{{base_url}}"],
							"path": ["ventures", "{{venture_id}}"]
						}
					},
					"response": []
				},
				{
					"name": "‚úÖ Actualizar Venture (PUT) - Solo algunos campos",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{entrepreneur_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Startup IA - Edici√≥n R√°pida\",\n  \"amountRequested\": 175000\n}"
						},
						"url": {
							"raw": "{{base_url}}/ventures/{{venture_id}}",
							"host": ["{{base_url}}"],
							"path": ["ventures", "{{venture_id}}"]
						}
					},
					"response": []
				},
				{
					"name": "‚úÖ Eliminar Venture (DELETE)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{entrepreneur_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/ventures/{{venture_id}}",
							"host": ["{{base_url}}"],
							"path": ["ventures", "{{venture_id}}"]
						}
					},
					"response": []
				},
				{
					"name": "Ventures por Emprendedor",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/ventures/entrepreneur/{{entrepreneur_userId}}",
							"host": ["{{base_url}}"],
							"path": ["ventures", "entrepreneur", "{{entrepreneur_userId}}"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üè∑Ô∏è Categor√≠as de Ventures",
			"item": [
				{
					"name": "Ver Categor√≠as del Venture",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{entrepreneur_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/ventures/{{venture_id}}/categories",
							"host": ["{{base_url}}"],
							"path": ["ventures", "{{venture_id}}", "categories"]
						}
					},
					"response": []
				},
				{
					"name": "Actualizar Categor√≠as del Venture",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{entrepreneur_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"categoryIds\": [\"2\", \"3\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/ventures/{{venture_id}}/categories",
							"host": ["{{base_url}}"],
							"path": ["ventures", "{{venture_id}}", "categories"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üéØ Matching y Conexiones",
			"item": [
				{
					"name": "Ver Sugerencias (Investor)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{investor_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/matching/suggestions",
							"host": ["{{base_url}}"],
							"path": ["matching", "suggestions"]
						}
					},
					"response": []
				},
				{
					"name": "Crear Conexi√≥n (Like)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{investor_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"ventureId\": \"{{venture_id}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/matching/connections",
							"host": ["{{base_url}}"],
							"path": ["matching", "connections"]
						}
					},
					"response": []
				},
				{
					"name": "Ver Mis Conexiones",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{investor_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/matching/connections",
							"host": ["{{base_url}}"],
							"path": ["matching", "connections"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üîí Pruebas de Seguridad",
			"item": [
				{
					"name": "‚ùå Crear Venture sin Token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Test sin auth\",\n  \"summary\": \"Debe fallar\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/ventures",
							"host": ["{{base_url}}"],
							"path": ["ventures"]
						}
					},
					"response": []
				},
				{
					"name": "‚ùå Inversor intenta crear Venture",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{investor_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Test rol incorrecto\",\n  \"summary\": \"Debe fallar con 403\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/ventures",
							"host": ["{{base_url}}"],
							"path": ["ventures"]
						}
					},
					"response": []
				},
				{
					"name": "‚ùå Inversor intenta eliminar Venture",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{investor_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/ventures/{{venture_id}}",
							"host": ["{{base_url}}"],
							"path": ["ventures", "{{venture_id}}"]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:4000/api",
			"type": "string"
		}
	]
}
